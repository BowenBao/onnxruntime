<?xml version="1.0" encoding="utf-8"?>
<TestJobGroup>
  <ExecutionMode Type="SharedSetup">
    <Properties>
      <Property Name="MaxParallelismForJobs" Value="1"/>
    </Properties>
  </ExecutionMode>
  <ResourceSpec>
    <Resource Image="2016-Datacenter" SKU="Standard_A2_v2"/>
  </ResourceSpec>
  <Setup TimeoutMins="1">
    <BuildFiles>
      <Copy Dest="[WorkingDirectory]\" IsRecursive="true" Src="[BuildRoot]\bin\*"/>
    </BuildFiles>
    <DataFiles>
      <Copy Dest="[WorkingDirectory]\debug" IsRecursive="true" Src="[MyVCRT]\debug\x64\Microsoft.VC141.DebugCRT\*"/>
      <Copy Dest="[WorkingDirectory]\debug" IsRecursive="true" Src="[MyVCRT]\debug\x64\ucrtbased.dll"/>
      <Copy Dest="[WorkingDirectory]\" IsRecursive="true" Src="[MyVCRT]\vcredist_x64.exe"/>
      <Copy Dest="[WorkingDirectory]\models" IsRecursive="true" Src="[MyVSODrop]\cntk\*"/>
    </DataFiles>
    <Scripts>
      <Script Path="[WorkingDirectory]\setup.bat"/>
    </Scripts>
  </Setup>  
  <TestJob Name="LotusModelTest.Office.retail" OwnerAliases="chasun" Tags="Suite=Suite0" TimeoutMins="120" Type="SingleBox">
    <Execution Path="[WorkingDirectory]\retail\onnx_test_runner_vstest.dll" Type="MsTest"/>
  </TestJob>
  <TestJob Name="LotusModelTest.Office.debug" OwnerAliases="chasun" Tags="Suite=Suite0" TimeoutMins="120" Type="SingleBox">
    <Execution Path="[WorkingDirectory]\debug\onnx_test_runner_vstest.dll" Type="MsTest"/>
  </TestJob>
  <TestJob Name="LotusModelTest.HTK_LSTM_Truncated_Distributed.retail" OwnerAliases="chasun" Tags="Suite=Suite0" TimeoutMins="120" Type="SingleBox">
    <Execution Path="[WorkingDirectory]\retail\onnx_test_runner_vstest.dll" Type="MsTest"/>
  </TestJob>
  <TestJob Name="LotusModelTest.HTK_LSTM_Truncated_Distributed.debug" OwnerAliases="chasun" Tags="Suite=Suite0" TimeoutMins="120" Type="SingleBox">
    <Execution Path="[WorkingDirectory]\debug\onnx_test_runner_vstest.dll" Type="MsTest"/>
  </TestJob>
  <Cleanup TimeoutMins="1"/>
</TestJobGroup>
